<!doctype html>
<html>

<head>
  <meta charset="utf-8">
  <title>Follow Mouse</title>
  <link rel="stylesheet" href="style.css">
</head>

<body>
  <canvas id="canvas" width="800" height="800"></canvas>
  <script src="../include/utils.js"></script>
  <script src="../classes/ball.js"></script>
  <script>
    window.onload = function () {
      var canvas = document.getElementById('canvas'),
        context = canvas.getContext('2d'),
        ball = new Ball(),
        velocityX = 0,
        velocityY = 0,
        gravity = 0.05,
        accelarationX = 0.01,
        accelarationY = 0.01;
      ball.x = 0;
      ball.y = 100;


      window.addEventListener('keydown', function (event) {
      switch (event.keyCode) {
        case 37:
          accelarationX = -0.1;
          break;
        case 39:
          accelarationX = 0.1;
          break;
        case 38:
          accelarationY = -0.1;
          break;
        case 40:
          accelarationY = 0.1;
          break;
        }
      }, false);

      window.addEventListener('keyup', function () {
        accelarationX = 0;
        accelarationY = 0;
      }, false);

      (function drawFrame() {
        window.requestAnimationFrame(drawFrame, canvas);
        context.clearRect(0, 0, canvas.width, canvas.height);
        velocityX += accelarationX;
        velocityY += accelarationY;
        velocityY += gravity;
        ball.x += velocityX;
        ball.y += velocityY;
        ball.draw(context);
      }());
    };
  </script>
</body>

</html>